{
  "ConfigFileVersion": "1.3",
  "ApiVersion": "2015-03-20",
  "Alerts": [
    {
      "AlertName": "CORE OS - HeartBeat Failure",
      "AlertGuid": "7d52a765-c6fe-4f01-a249-0c3660011eef",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE OS - HeartBeat Failure",
        "Query": "Heartbeat| summarize LastHeartbeat=max(TimeGenerated) by Computer| where LastHeartbeat \u003c ago(5m)| project      Computer     , TimeGenerated=LastHeartbeat,AlertType_s = \"HeartBeat Failure\",Severity = 2,SeverityName_s = \"WARNING\",AffectedCI_s = strcat(Computer),AlertTitle_s = strcat(Computer, \": Missing HeartBeat\"),AlertDetails_s = strcat(\"Missing HeartBeat from Computer: \", Computer, \", Last HeartBeat was: \", LastHeartbeat, \" UTC\")",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 15,
        "QueryTimeSpan": 15,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE OS - HeartBeat Failure",
        "Description": "Triggers an alert on missing HeartBeat",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE OS - HeartBeat Failure"
        }
      }
    },
    {
      "AlertName": "CORE OS - High CPU Usage",
      "AlertGuid": "8a9b0a3b-5f17-4a55-8132-0fe6dcbf968f",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE OS - High CPU Usage",
        "Query": "let _maxValue = 85; let _timeWindow = 2h; let _AvgCpu = Perf | where TimeGenerated >= ago(_timeWindow) | where CounterName == \"% Processor Time\"      and InstanceName =~ \"_Total\"  | summarize mtgPerf=max(TimeGenerated), CounterValue=round(avg(CounterValue)), SampleCount=count(CounterValue) by Computer, InstanceName, CounterName, ObjectName; _AvgCpu | where CounterValue > _maxValue | project      Computer     , ObjectName     , CounterName     , InstanceName     , TimeGenerated=mtgPerf     , CounterValue     , AlertType_s = \"Sustained High CPU Utilization\"     , Severity = 4     , SeverityName_s = \"WARNING\"     , AffectedCI_s = strcat(Computer, \"/CPUPercent/\", InstanceName)     , AlertTitle_s = strcat(Computer, \": Sustained High CPU Utilization\")     , AlertDetails_s = strcat(\"Computer: \", Computer, \"\\r\\nAverage CPU Utilization: \", CounterValue, \"%\\r\\nSample Period: Last \", _timeWindow, \"\\r\\nSample Count: \", SampleCount, \"\\r\\nAlert Threshold: > \", _maxValue, \"%\")",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE OS - High CPU Usage",
        "Description": "Triggers an alert for a high CPU usage condition",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE OS - High CPU Usage"
        }
      }
    },
    {
      "AlertName": "CORE OS - Low Disk Space Windows",
      "AlertGuid": "844d2068-65ea-45d0-98d0-44e34a0548c6",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE OS - Low Disk Space Windows",
        "Query": "let _minValue = 10; Perf | where TimeGenerated >= ago(1h) | where CounterValue <= _minValue | where CounterName == \"% Free Space\" and InstanceName in (\"C:\", \"E:\", \"F:\", \"G:\")  | summarize mtgPerf=max(TimeGenerated), CounterValue=max(CounterValue) by Computer, InstanceName, CounterName, ObjectName, DriveLetter=replace(@\"(\\w).\",@\"\\1\", InstanceName) | join kind=inner (     Heartbeat      | where OSType == \"Windows\"     | summarize max(TimeGenerated) by Computer     ) on Computer  | project      Computer     , ObjectName     , CounterName     , InstanceName     , TimeGenerated=mtgPerf     , round(CounterValue)     , DriveLetter     , AlertType_s = \"Windows Low Disk Space\"     , Severity = 3     , SeverityName_s = \"WARNING\"     , AffectedCI_s = strcat(Computer, \"/\", DriveLetter)     , AlertTitle_s = strcat(Computer, \": Low Disk Space on Drive \", DriveLetter)     , AlertDetails_s = strcat(\"Computer: \", Computer, \"\\r\\nDrive Letter: \", DriveLetter, \"\\r\\nPercent Free Space: \", round(CounterValue), \"%\\r\\nAlert Threshold: <= \", _minValue, \"%\")",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 35,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE OS - Low Disk Space Windows",
        "Description": "Triggers an alert for a low disk space condition",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE OS - Low Disk Space Windows"
        }
      }
    },
    {
      "AlertName": "CORE OS - Low Memory",
      "AlertGuid": "1fcf8156-fcca-45d2-be45-aca07b90aee8",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE OS - Low Memory",
        "Query": "let _minAvailableMB = 1024;\nlet _sampleInterval = 2h;\nlet _linuxMem = Perf\n| where TimeGenerated >= ago(_sampleInterval)\n| where CounterName == \"Available MBytes Memory\"\n| summarize mtgPerf=max(TimeGenerated), CounterValue=avg(CounterValue), SampleCount=count(CounterValue) by Computer\n| join kind=inner\n(\n    Heartbeat\n    | where OSType == \"Linux\"\n    | summarize max(TimeGenerated) by Computer\n)\non Computer\n| project Computer, mtgPerf, AvailableMBytes=round(CounterValue), SampleCount;\nlet _windowsMem = Perf\n| where TimeGenerated >= ago(_sampleInterval)\n| where CounterName == \"Available MBytes\"\n//and ObjectName == \"Logical Disk\"\n\n//and InstanceName matches regex \"/.*\"\n| summarize mtgPerf=max(TimeGenerated), CounterValue=avg(CounterValue), SampleCount=count(CounterValue) by Computer\n| join kind=inner\n(\n    Heartbeat\n    | where OSType == \"Windows\"\n    | summarize max(TimeGenerated) by Computer\n)\non Computer\n| project Computer, mtgPerf, AvailableMBytes=round(CounterValue), SampleCount;\n_linuxMem\n| union _windowsMem\n| where AvailableMBytes < _minAvailableMB\n| project       Computer      , TimeGenerated=mtgPerf      , CounterValue=AvailableMBytes       , AlertType_s = \"Low Available Memory\"      , Severity = 4      , SeverityName_s = \"WARNING\"      , AffectedCI_s = strcat(Computer, \"/FreeMemoryMB/\")      , AlertTitle_s = strcat(Computer, \": Low Available Memory\")      , AlertDetails_s = strcat(\"Computer: \", Computer, \"\\r\\nAverage Free Memory: \", AvailableMBytes, \" MB\\r\\nSample Period: Last \", _sampleInterval, \"\\r\\nSample Count: \", SampleCount, \"\\r\\nAlert Threshold: < \", _minAvailableMB, \" MB\")",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE OS - Low Memory",
        "Description": "Triggers an alert for a low memory condition",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE OS - Low Memory"
        }
      }
    },
    {
      "AlertName": "CORE OS - NTFS - File System Corrupt",
      "AlertGuid": "bb8527b1-6152-4d28-be04-c3d81cf98407",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE OS - NTFS - File System Corrupt",
        "Query": "Event | where EventLog == \"System\" and Source == \"DISK\" or Source == \"Ntfs\" and EventID == 55 | project Computer, TimeGenerated, AlertType_s = \"NTFS - File System Corrupt\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \": NTFS - File System Corrupt\"), AlertDetails_s = strcat(\"Event Description:\\r\\n\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 30,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE OS - NTFS - File System Corrupt",
        "Description": "File System Corrupt Events.",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE OS - NTFS - File System Corrupt"
        }
      }
    },
    {
      "AlertName": "CORE OS - Unexpected shutdown",
      "AlertGuid": "39128bb3-9a64-4d81-bc36-58be5e101514",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE OS - Unexpected shutdown",
        "Query": "Event | where EventLog == \"System\" and EventID == 6008 | project Computer, TimeGenerated, AlertType_s = \"Unexpected shutdown\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = strcat(Computer), AlertTitle_s = strcat(Computer, \": Unexpected Shutdown\"), AlertDetails_s = strcat(\"Multiple shutdowns detected in the past 24 hours\\r\\nEventID: 6008\\r\\nEvent Description: \", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 1440,
        "QueryTimeSpan": 1440,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE OS - Unexpected shutdown",
        "Version": "1",
        "Description": "Unexpected shutdown monitoring from core monitoring",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 1
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE OS - Unexpected shutdown"
        }
      }
    },
    
    {
      "AlertName": "CORE SQL - Cannot recover the master database",
      "AlertGuid": "1fcf8156-fcca-45d2-be45-aca07b90aeef9",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Cannot recover the SQL master database",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 3417 | project Computer, TimeGenerated, AlertType_s = \"SQL-Cannot recover the master database\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \": SQL-Cannot recover the master database\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Connect SQL Master DB",
        "Description": "Triggers an alert whenever there are issues detected in connecting or opening to the master database",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Cannot recover the SQL Server master database"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not find filegroup in sys.filegroups",
      "AlertGuid": "2fcf8156-fcca-45d2-be45-aca07b90ae5e7",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not find filegroup in sys.filegroups.",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 8932 | project Computer, TimeGenerated, AlertType_s = \"SQL-Could not find filegroup in sys.filegroups\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":Could not find filegroup in sys.filegroups\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not find filegroup in sys.filegroups.",
        "Description": "Triggers an alert whenever there are issues detected with the database filegroup",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not find filegroup in sys.filegroups."
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not mark database as suspect",
      "AlertGuid": "3fcf8156-fcca-45d2-be45-aca07b90ae5c2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not mark database as suspect",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 3413 | project Computer, TimeGenerated, AlertType_s = \"SQL-Could not mark database as suspect\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":Could not mark database as suspect\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not mark database as suspect",
        "Description": "Alert is triggered whenever there are corruption/inconsistency issues detected with the database and engine not being able to mark the database as suspect",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not mark database as suspect"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not recover database because of unresolved transaction outcomes",
      "AlertGuid": "3ecf8156-fcca-45d2-be45-aca07b90ace5c2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not recover database because of unresolved transaction outcomes",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 3431 | project Computer, TimeGenerated, AlertType_s = \"SQL-Could not recover database because of unresolved transaction outcomes\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":Could not recover database because of unresolved transaction outcomes\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not recover database because of unresolved transaction outcomes",
        "Description": "Alert is triggered whenever there are inconsistency issues detected with the database.",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not recover database because of unresolved transaction outcomes"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Database cannot be opened due to inaccessible files or insufficient memory or disk space",
      "AlertGuid": "3fcdf8156-fcca-45d2-be45-aca07b90ace5c2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Database cannot be opened due to inaccessible files or insufficient memory or disk space",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 945 | project Computer, TimeGenerated, AlertType_s = \"Database cannot be opened due to inaccessible files or insufficient memory or disk space\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":Database cannot be opened due to inaccessible files or insufficient memory or disk space\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Database cannot be opened due to inaccessible files or insufficient memory or disk space",
        "Description": "Alert is triggered whenever there are low memory condition detected",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Database cannot be opened due to inaccessible files or insufficient memory or disk space"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Failed to allocate memory for common language runtime (CLR) functionality",
      "AlertGuid": "9fcdf8156-fcca-45d2-be45-aca07b90ace5c3",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Failed to allocate memory for common language runtime (CLR) functionality",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 6289 | project Computer, TimeGenerated, AlertType_s = \"Failed to allocate memory for common language runtime (CLR) functionality\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":Failed to allocate memory for common language runtime (CLR) functionality\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Failed to allocate memory for common language runtime (CLR) functionality",
        "Description": "Alert is triggered whenever there are low memory condition detected for CLR execution",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Failed to allocate memory for common language runtime (CLR) functionality"
        }
      }
    },
    {
      "AlertName": "CORE SQL - An error occurred during database recovery",
      "AlertGuid": "7fcdf8156-fcca-45d2-be45-bca07b90ace5c4",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - An error occurred during database recovery",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 3414 | project Computer, TimeGenerated, AlertType_s = \"An error occurred during database recovery\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":An error occurred during database recovery\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - An error occurred during database recovery",
        "Description": "Alert is triggered whenever there are errors logged for database recovery",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - An error occurred during database recovery"
        }
      }
    },
    {
      "AlertName": "CORE SQL - The maximum number of user connections has already been reached",
      "AlertGuid": "9fcdf8156-bfca-45d2-be45-cca07b10ace5c5",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - The maximum number of user connections has already been reached",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 17809 | project Computer, TimeGenerated, AlertType_s = \"SQL-The maximum number of user connections has already been reached\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-The maximum number of user connections has already been reached\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - The maximum number of user connections has already been reached",
        "Description": "Alert is triggered whenever the connection pool is exhausted, can occur due to low memory condition and other performance issues",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - The maximum number of user connections has already been reached"
        }
      }
    },
    {
      "AlertName": "CORE SQL - The server is too busy to perform the backup or restore operation",
      "AlertGuid": "6fcdf8156-fbca-43e2-be45-aca17b90ade5b2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - The server is too busy to perform the backup or restore operation",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 3267 | project Computer, TimeGenerated, AlertType_s = \"SQL-The server is too busy to perform the backup or restore operation\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-The server is too busy to perform the backup or restore operation\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - The server is too busy to perform the backup or restore operation",
        "Description": "Alert is triggered whenever the backup operation fails due performance issues",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - The server is too busy to perform the backup or restore operation"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not do cleanup for the killed process",
      "AlertGuid": "9bcdf8156-fbba-45d2-be45-aca07b90ace5c2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not do cleanup for the killed process",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 6103 | project Computer, TimeGenerated, AlertType_s = \"SQL-Could not do cleanup for the killed process\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Could not do cleanup for the killed process\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not do cleanup for the killed process",
        "Description": "Alert is created when there was no successful rollback of killed process",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not do cleanup for the killed process"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not find FOREIGN KEY constraints for table, although the table is flagged as having them",
      "AlertGuid": "9bcdf8156-fcca-45d2-be45-aca07b90ace5c4",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not find FOREIGN KEY constraints for table, although the table is flagged as having them",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 439 | project Computer, TimeGenerated, AlertType_s = \"SQL-Could not find FOREIGN KEY constraints for table, although the table is flagged as having them\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":Could not find FOREIGN KEY constraints for table, although the table is flagged as having them\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not find FOREIGN KEY constraints for table, although the table is flagged as having them",
        "Description": "Alert is created when there are database inconsistency detected",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not find FOREIGN KEY constraints for table, although the table is flagged as having them"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not write a CHECKPOINT record in database because the log is out of space",
      "AlertGuid": "8bbdf8146-fbba-45d2-be45-aca07b10ace5d1",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not write a CHECKPOINT record in database because the log is out of space",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 3619 | project Computer, TimeGenerated, AlertType_s = \"Could not write a CHECKPOINT record in database because the log is out of space\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":Could not write a CHECKPOINT record in database because the log is out of space\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not write a CHECKPOINT record in database because the log is out of space",
        "Description": "Alert is created when the database logfiles go out of space",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not write a CHECKPOINT record in database because the log is out of space"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Database capacity threshold exceeded",
      "AlertGuid": "7bbdf8146-faac-45d2-be45-aca07b90ace5e3",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Database capacity threshold exceeded",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 17063 | where  EventID == 60120 | project Computer, TimeGenerated, AlertType_s = \"SQL-Database capacity threshold exceeded\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Database capacity threshold exceeded\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Database capacity threshold exceeded",
        "Description": "Alert is created when the database capacity threshold exceededs",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Database capacity threshold exceeded"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Enlist of MSDTC transaction failed",
      "AlertGuid": "7bcdf8146-fbff-45d2-be45-aca07b90ace5d2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Enlist of MSDTC transaction failed",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 8510 | project Computer, TimeGenerated, AlertType_s = \"SQL-Enlist of MSDTC transaction failed\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Enlist of MSDTC transaction failed\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Enlist of MSDTC transaction failed",
        "Description": "Alert is fired when inconsistency is detected with the distributed transaction ",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Enlist of MSDTC transaction failed"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Log Capacity threshold exceeded",
      "AlertGuid": "7bbdf8236-66ff-45d2-be45-aca07b90ace5d2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Log Capacity threshold exceeded",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 17063 | where  EventID == 60110 | project Computer, TimeGenerated, AlertType_s = \"SQL-Log Capacity threshold exceeded\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Log Capacity threshold exceeded\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Log Capacity threshold exceeded",
        "Description": "Alert is fired when log file Capacity threshold exceeded",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Log Capacity threshold exceeded"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Event 17063 DatabaseConsistencyErrors",
      "AlertGuid": "25bdf8146-fbff-45d2-be45-aca07b90ace5d2",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Event 17063 DatabaseConsistencyErrors",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 17063 | where  EventID == 70000 | project Computer, TimeGenerated, AlertType_s = \"SQL-Database Consistency errors\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Database Consistency errors\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Database Consistency errors",
        "Description": "Alert is fired when inconsistency is detected with the distributed transaction ",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Microsoft SQL Server 2014 Monitoring Event 17063 DatabaseConsistencyErrors"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Event 17063 SQLOpsJobExecutionfailures",
      "AlertGuid": "1bbdf8247-63ff-45e2-be45-aca07b90ace5c1",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Event 17063 SQLOpsJobExecutionfailures",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 17063 | where  EventID == 61001 | project Computer, TimeGenerated, AlertType_s = \"SQL-Microsoft SQLServer 2014 Monitoring Event 17063 SQLOpsJobExecutionfailures\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Microsoft SQLServer 2014 Monitoring Event 17063 SQLOpsJobExecutionfailures\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Microsoft SQLServer 2014 Monitoring Event 17063 SQLOpsJobExecutionfailures",
        "Description": "Alert is fired when SQL Server job execution fails event 17063",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Microsoft SQLServer 2014 Monitoring Event 17063 SQLOpsJobExecutionfailures"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Custom Error 60200",
      "AlertGuid": "61bdf8146-fbff-45d2-be45-aca07b90ace5w3",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Custom Error 60200",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 17063 | where  EventID == 60200 | project Computer, TimeGenerated, AlertType_s = \"SQL-Microsoft SQLServer 2014 Monitoring Override Custom Error 60200\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Microsoft SQLServer 2014 Monitoring Override Custom Error 60200\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Custom Error 60200",
        "Description": "Alert is fired when SQL Server event id 60200 is fired",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Custom Error 60200"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Event14151 ExpiredSubscription",
      "AlertGuid": "3ccdf9267-63sf-99e2-ce54-bba07b90ace5c5",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Event14151 ExpiredSubscription",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 14151 | project Computer, TimeGenerated, AlertType_s = \"SQL-Microsoft SQLServer 2014 Monitoring Override Event14151 ExpiredSubscription\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Microsoft SQLServer 2014 Monitoring Override Event14151 ExpiredSubscription\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Event14151 ExpiredSubscription",
        "Description": "Alert is fired when event 14151",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Microsoft SQLServer 2014 Monitoring Override Event14151 ExpiredSubscription"
        }
      }
    },
    {
      "AlertName": "CORE SQL - SQLServerAgent could not be started",
      "AlertGuid": "3ffdf9267-63sf-99e2-ce54-ccb07b90ace5d7",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - SQLServerAgent could not be started",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 103 | project Computer, TimeGenerated, AlertType_s = \"SQL-SQLServerAgent could not be started\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-SQLServerAgent could not be started\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - SQLServerAgent could not be started",
        "Description": "Alert is fired when SQL Server agent service could not be started",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - SQLServerAgent could not be started"
        }
      }
    },
    {
      "AlertName": "CORE SQL - The log for database is not available",
      "AlertGuid": "3aadf9277-63af-99e2-ce54-bba07b90acd5d5",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - The log for database is not available",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 9001 | project Computer, TimeGenerated, AlertType_s = \"SQL-The log for database is not available\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-The log for database is not available\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - The log for database is not available",
        "Description": "Alert is fired when the log for database is not available",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - The log for database is not available"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Transactional replication latency threshold exceeded",
      "AlertGuid": "54fdf8146-fbaa-20e2-ae45-eea07d90ace5f5",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Transactional replication latency threshold exceeded",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" where  EventID == 17063 | where EventID == 60201 | project Computer, TimeGenerated, AlertType_s = \"SQL-Transactional replication latency threshold exceeded\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Transactional replication latency threshold exceeded\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Transactional replication latency threshold exceeded",
        "Description": "Alert is fired when SQL Server transactional replication latency threshold exceededs",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Transactional replication latency threshold exceeded"
        }
      }
    },
    {
      "AlertName": "CORE SQL - SQL Server Service Broker dialog caught an error",
      "AlertGuid": "3aabc9357663ef-99e2-ce54-bba07b90ace4b4",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - SQL Server Service Broker dialog caught an error",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 9736 | project Computer, TimeGenerated, AlertType_s = \"SQL -SQL Server Service Broker dialog caught an error\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL -SQL Server Service Broker dialog caught an error\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - SQL Server Service Broker dialog caught an error",
        "Description": "Alert is fired when the Service Broker message fails to get delivered",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - SQL Server Service Broker dialog caught an error"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Blocking threshold exceeded",
      "AlertGuid": "35edf8146-ebac-20e2-ae25-cca07d90abd4f6",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Blocking threshold exceeded",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 17063 | where EventID == 60100 | project Computer, TimeGenerated, AlertType_s = \"SQL-Blocking threshold exceeded\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Blocking threshold exceeded\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Blocking threshold exceeded",
        "Description": "Alert is fired when the blocking threshold exceededs",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Blocking threshold exceeded"
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not allocate new page for database.There are no more pages available in filegroup",
      "AlertGuid": "2ccbc897663ef-99e2-ce54-bba07b90ace3b1",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not allocate new page for database",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 1101 | project Computer, TimeGenerated, AlertType_s = \"SQL-Could not allocate new page for database.There are no more pages available in filegroup.\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Could not allocate new page for database.There are no more pages available in filegroup.\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not allocate new page for database.There are no more pages available in filegroup.",
        "Description": "Alert is fired when engine could not allocate new page for database . There are no more pages available in filegroup.",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not allocate new page for database.There are no more pages available in filegroup."
        }
      }
    },
    {
      "AlertName": "CORE SQL - Could not allocate space for object  in database  because the  filegroup is full",
      "AlertGuid": "25edc7126-ecff-20e2-ae25-cda07d10ace1c5",
      "Tags": [
        "Core"
      ],
      "SavedSearch": {
        "Category": "Core",
        "DisplayName": "CORE SQL - Could not allocate space for object in database because the filegroup is full",
        "Query": "Event | where EventLog == \"Application\" | where Source == \"MSSQLSERVER\" | where  EventID == 1105 | project Computer, TimeGenerated, AlertType_s = \"SQL-Could not allocate space for object in database  because the  filegroup is full\", Severity = 4, SeverityName_s = \"WARNING\", AffectedCI_s = Computer, AlertTitle_s = strcat(Computer, \":SQL-Could not allocate space for object  in database  because the  filegroup is full\"), AlertDetails_s = strcat(\"Event Description:\", RenderedDescription)",
        "Version": "1"
      },
      "Schedule": {
        "Interval": 30,
        "QueryTimeSpan": 240,
        "Active": "true"
      },
      "AlertDefinition": {
        "Name": "CORE SQL - Could not allocate space for object  in database  because the  filegroup is full",
        "Description": "Alert is fired when engine could not allocate space for object  in database  because the  filegroup is full",
        "Version": "1",
        "Severity": "critical",
        "Type": "Alert",
        "Threshold": {
          "Operator": "gt",
          "Value": 0
        },
        "AzNsNotification": {
          "GroupIds": [
            "/subscriptions/subscrname/resourcegroups/resourcegrp/providers/microsoft.insights/actiongroups/samplecoreactiongroup"
          ],
          "CustomEmailSubject": "CORE SQL - Could not allocate space for object  in database  because the  filegroup is full"
        }
      }
    }  
  ],
  "Events": [
    {
      "EventLogName": "Application",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Microsoft-Windows-ClusterAwareUpdating/Admin",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Microsoft-Windows-Desired State Configuration/Operational",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Microsoft-Windows-FailoverClustering-CsvFs/Operational",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Microsoft-Windows-FailoverClustering/Operational",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Microsoft-Windows-GroupPolicy/Operational",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Microsoft-Windows-NetworkProfile/Operational",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Microsoft-Windows-SMBServer/Operational",
      "Error": true,
      "Warning": true,
      "Information": false
    },
    {
      "EventLogName": "Operations Manager",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "Setup",
      "Error": true,
      "Warning": true,
      "Information": true
    },
    {
      "EventLogName": "System",
      "Error": true,
      "Warning": true,
      "Information": true
    }
  ],
  "PerformanceCounters": [
    {
      "ObjectName": "LogicalDisk",
      "CounterName": "% Free Space",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "LogicalDisk",
      "CounterName": "Current Disk Queue Length",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "LogicalDisk",
      "CounterName": "Free Megabytes",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "Memory",
      "CounterName": "Available MBytes",
      "InstanceName": "*",
      "intervalSeconds": 1800
    },
    {
      "ObjectName": "Network Adapter",
      "CounterName": "Bytes Received/sec",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "Network Adapter",
      "CounterName": "Bytes Sent/sec",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "Network Interface",
      "CounterName": "Bytes Total/sec",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "Processor",
      "CounterName": "% Processor Time",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "Processor",
      "CounterName": "% Processor Time",
      "InstanceName": "_Total",
      "intervalSeconds": 60
    },
    {
      "ObjectName": "System",
      "CounterName": "Processor Queue Length",
      "InstanceName": "*",
      "intervalSeconds": 300
    },
    {
      "ObjectName": "NUMA Node Memory",
      "CounterName": "Available MBytes",
      "InstanceName": "_Total",
      "intervalSeconds": 1800
    },
    {
      "ObjectName": "NUMA Node Memory",
      "CounterName": "Total MBytes",
      "InstanceName": "_Total",
      "intervalSeconds": 1800
    }
  ]
}